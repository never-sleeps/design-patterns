Вариант с испольованием интерфейса Iterator языка java из java.util.